function localAddDomainToWhitelist(){$(".never-hide-from-domain-js").addClass("hide"),$(".remove-domain-from-whitelist-js").removeClass("hide"),$(".remove-domain-js").text($(".domain-js").text())}function localRemoveDomainFromWhitelist(){$(".remove-domain-from-whitelist-js").addClass("hide"),$(".never-hide-from-domain-js").removeClass("hide")}function checkIfArrayHasObjectWithProp(i,t,e){var o=!1,n=null,a=0;return i.length&&i.forEach(function(i,s){i[t]==e&&(o=!0,n=s,a++)}),{isInArray:o,position:n,count:a}}var storage={target:chrome.storage.local,set:function(i,t){this.target.set(i,t)},get:function(i,t){this.target.get(i,t)}},popup={getTabDomain:function(i){chrome.tabs.getSelected(null,function(t){var e=t.url.match(/^[\w-]+:\/{2,}\[?([\w\.:-]+)\]?(?::[0-9]*)?/)[1];i(e)})},addDomainToHtml:function(i){var t=this;popup.getTabDomain(function(e){t.text(e),i()})},getWhitelistedDomains:function(i){storage.get("whitelistedDomains",i)},addDomainToWhitelist:function(i,t){popup.getWhitelistedDomains(function(e){e.whitelistedDomains?e.whitelistedDomains.indexOf(i)===-1&&(e.whitelistedDomains.push(i),storage.set({whitelistedDomains:e.whitelistedDomains},t)):storage.set({whitelistedDomains:[i]},t)})},removeDomainFromWhitelist:function(i,t){popup.getWhitelistedDomains(function(e){e.whitelistedDomains&&e.whitelistedDomains.indexOf(i)!==-1&&(e.whitelistedDomains.splice(e.whitelistedDomains.indexOf(i),1),storage.set({whitelistedDomains:e.whitelistedDomains},t))})},setDefaultAddOrRemoveDomain:function(i){popup.getWhitelistedDomains(function(t){t.whitelistedDomains&&t.whitelistedDomains.indexOf(i)!==-1&&localAddDomainToWhitelist()})},getClickBaitsMarkedByYou:function(i){storage.get("clickBaitsMarkedByYou",i)},getTotalClickbaitsOnPage:function(i){storage.get("totalClickbaitsOnPage",i)}};$(function(){chrome.tabs.query({active:!0,currentWindow:!0},function(i){chrome.tabs.sendMessage(i[0].id,{action:"get_total_clickbaits"},function(i){popup.getTotalClickbaitsOnPage(function(i){i.totalClickbaitsOnPage&&$(".clickbaits-no-js").text(i.totalClickbaitsOnPage)})})}),$("body").on("click",".show-original-titles-js",function(){chrome.tabs.query({active:!0,currentWindow:!0},function(i){chrome.tabs.sendMessage(i[0].id,{action:"show_original_titles"},function(){$(".show-original-titles-js").removeClass("show-original-titles-js").addClass("clickbait-blocker-chrome-extension clickbait-disabled")})})}),popup.getClickBaitsMarkedByYou(function(i){popup.getTabDomain(function(t){i.clickBaitsMarkedByYou&&checkIfArrayHasObjectWithProp(i.clickBaitsMarkedByYou,"domain",t).isInArray&&$(".marked-by-you-no-js").text(checkIfArrayHasObjectWithProp(i.clickBaitsMarkedByYou,"domain",t).count)})}),$(".options-page-js").on("click",function(){chrome.runtime.openOptionsPage()}),$(".never-hide-from-domain-js").on("click",function(){popup.addDomainToWhitelist($(".domain-js").text(),function(){localAddDomainToWhitelist()})}),$(".remove-domain-from-whitelist-js").on("click",function(){popup.removeDomainFromWhitelist($(".domain-js").text(),function(){localRemoveDomainFromWhitelist()})}),popup.addDomainToHtml.call($(".domain-js"),function(){popup.setDefaultAddOrRemoveDomain($(".domain-js").text())})});